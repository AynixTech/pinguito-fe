<div class="sidebar">
    <div class="sidebar-header">
        <div class="logo">
            <img src="assets/images/logo.png" alt="Logo" />
        </div>
    </div>

    <nav class="sidebar-nav">
        <div class="menu-items-container">
            <ul class="menu-items">
                <li *ngFor="let item of menuItems" [class.active]="!item.children && router.isActive(item.path, false)"
                    [class.expanded]="isExpanded(item.label)"
                    [class.active-parent]="item.children && isChildActive(item)">

                    <!-- Link singolo -->
                    <a *ngIf="!item.children" [routerLink]="item.path" routerLinkActive="active"
                        [routerLinkActiveOptions]="{ exact: false }">
                        <i class="{{ item.icon }}"></i>
                        {{ item.label }}
                    </a>

                    <!-- Link genitore con submenu -->
                    <div *ngIf="item.children" class="parent-link" (click)="toggleItem(item.label)">
                        <i class="{{ item.icon }}"></i>
                        {{ item.label }}
                        <i class="fa fa-chevron-right chevron-icon" [class.rotate]="isExpanded(item.label)"></i>
                    </div>

                    <!-- Submenu -->
                    <ul *ngIf="item.children && isExpanded(item.label)" class="submenu">
                        <li *ngFor="let child of item.children" [class.active]="router.isActive(child.path, false)">
                            <a [routerLink]="child.path" routerLinkActive="active"
                                [routerLinkActiveOptions]="{ exact: false }">
                                {{ child.label }}
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>


        </div>


        <div class="leaderboard-container">
            <div class="leaderboard-widget">
                <h3>ğŸ† Leaderboard</h3>
                <div class="leaderboard-content">
                    <ul>
                        <li *ngFor="let user of users; index as i">
                            <div class="position">#{{ i + 1 }}</div>
                            <div class="info">
                                <div class="name">{{ user.name }} {{ user.surname }}</div>
                                <div class="stats">Level {{ user.level }} Â· {{ user.xp }} XP</div>
                            </div>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
        <!-- Menu inferiore -->

    </nav>
</div>